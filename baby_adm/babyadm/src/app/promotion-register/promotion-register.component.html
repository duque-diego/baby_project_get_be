<app-toolbar></app-toolbar>

  <mat-card>
      <mat-card-title>Cadastro de Promoções</mat-card-title>
      <mat-card-content>
          <form class="product-container" >
              
              <mat-form-field class="example-full-width">
                <input name="productValuePackage" matInput placeholder="Valor do pacote do produto" (blur)="calculateUnitValue()" [(ngModel)]="productValuePackage">
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <input name="packageQuantity" matInput placeholder="Quantidade de fraldas no pacote" (blur)="calculateUnitValue()" [(ngModel)]="packageQuantity">
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <input name="productValueUnit" matInput placeholder="Valor unitário do produto" [(ngModel)]="productValueUnit" readonly>
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <input name="promotionLink" matInput placeholder="Link da promoção" [(ngModel)]="promotionLink">
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <input name="productCupom" matInput placeholder="Cupom da promoção" [(ngModel)]="productCupom">
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <input type="number" name="productDiscount" matInput placeholder="Desconto" [(ngModel)]="productDiscount">
              </mat-form-field>

              <mat-form-field *ngIf="!isEdicao" >
                <mat-select name="product" placeholder="Modelo" [(ngModel)]="product" ngDefaultControl >
                  <mat-option  *ngFor="let product of products" [value]="product" >
                    {{product.nome}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field *ngIf="!isEdicao">
                <mat-select  name="productSize" placeholder="Tamanho" [(ngModel)]="productSize" ngDefaultControl>
                  <mat-option  *ngFor="let size of sizes" [value]="size" >
                    {{size.nome}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field *ngIf="!isEdicao"> 
                <mat-select  name="productStore" placeholder="Loja" [(ngModel)]="productStore" ngDefaultControl>
                  <mat-option  *ngFor="let store of stores" [value]="store" >
                    {{store.nome}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <input name="productUrl" matInput placeholder="Foto do Produto" [(ngModel)]="url">
              </mat-form-field>

              <!-- <button class="button-margin" mat-raised-button (click)="openInput()">
                Selecione a foto do produto
              </button>
              <input id="fileInput" hidden type="file" (change)="onSelectFile($event)"> -->

              <button *ngIf="!isEdicao" mat-raised-button color="primary" (click)="register()">Cadastrar</button>
              <button *ngIf="isEdicao" mat-raised-button color="primary" (click)="update()">Atualizar</button>
              <img *ngIf='url' class="img-container" [src]="url" height="300" width="300"> 
            </form> 
      </mat-card-content>
      
</mat-card>